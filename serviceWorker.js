const n=self,l="tanchiki-cache-1",m=["/assets/img/bricks.png","/assets/img/bricks_modern.png","/assets/img/sprite.png","/assets/img/sprite_modern.png","/assets/img/tarmac_background.png","/assets/sounds/level-intro.mp3","/assets/sounds/game-over.mp3","/assets/sounds/pause.mp3","/assets/sounds/tank-move.mp3","/assets/sounds/tank-idle.mp3","/assets/sounds/ice.mp3","/assets/sounds/shoot.mp3","/assets/sounds/hit-enemy.mp3","/assets/sounds/hit-brick.mp3","/assets/sounds/hit-steel.mp3","/assets/sounds/player-explosion.mp3","/assets/sounds/enemy-explosion.mp3","/assets/sounds/powerup-appear.mp3","/assets/sounds/powerup-pickup.mp3","/assets/sounds/life.mp3","/assets/sounds/score.mp3"],p=["/","/index.html","/game","/about","/leaderboard","/profile",...m],d=["script","style","font","image","audio","manifest"],o=`
  <h1>\u0418\u043D\u0442\u0435\u0440\u043D\u0435\u0442\u044B \u0443\u043F\u0430\u043B\u0438! \u041D\u043E \u044D\u0442\u043E \u043D\u0435\u0442\u043E\u0447\u043D\u043E...</h1>
  <h2>\u041E\u0431\u043D\u043E\u0432\u0438 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443 \u0438\u043B\u0438 \u0432\u0435\u0440\u043D\u0438\u0441\u044C \u043D\u0430 \u0433\u043B\u0430\u0432\u043D\u0443\u044E</h2>
`,i={headers:{"Content-Type":"text/html; charset=utf-8"}},h=5e3,E=15e3;function f(s){return!(!s.url.match(/^http/)||s.url.includes("/api/"))}function g(s){return d.includes(s.destination)?!0:!(s.destination==="document"||s.url[s.url.length-1]==="/"||s.url.match(/\/[A-Za-z0-9_-]+$/))}n.addEventListener("install",s=>{s.waitUntil(caches.open(l).then(u=>u.addAll(p)).then(()=>{n.skipWaiting()}))});n.addEventListener("activate",s=>{s.waitUntil(n.clients.claim())});n.addEventListener("fetch",s=>{!f(s.request)||(s.request.url,s.respondWith(caches.open(l).then(u=>u.match(s.request).then(t=>{const r=new AbortController,a=setTimeout(()=>r.abort(),t?h:E),c=fetch(s.request,{signal:r.signal}).then(e=>(clearTimeout(a),e.status>=200&&e.status<300&&u.put(s.request,e.clone()).catch(C=>{}),e)).catch(e=>(clearTimeout(a),t!=null?t:new Response(o,i)));return t&&g(s.request)?(s.request.url,t):(s.request.url,c)})).catch(u=>new Response(o,i))))});
